<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础配置 | IM开发文档</title>
    <meta name="description" content="使用 vue + ts + 网易云信web sdk开发的一个即时聊天工具">
    <link rel="icon" href="/press/favicon.ico">
    
    <link rel="preload" href="/press/assets/css/0.styles.c0993adc.css" as="style"><link rel="preload" href="/press/assets/js/app.9d39bb6e.js" as="script"><link rel="preload" href="/press/assets/js/2.a59aa3f2.js" as="script"><link rel="preload" href="/press/assets/js/8.59e41fce.js" as="script"><link rel="prefetch" href="/press/assets/js/10.ee9c3bdf.js"><link rel="prefetch" href="/press/assets/js/11.c8f88b59.js"><link rel="prefetch" href="/press/assets/js/12.410568c2.js"><link rel="prefetch" href="/press/assets/js/13.1e7460cd.js"><link rel="prefetch" href="/press/assets/js/14.eccebda2.js"><link rel="prefetch" href="/press/assets/js/15.ced8f8fd.js"><link rel="prefetch" href="/press/assets/js/3.da1db4bb.js"><link rel="prefetch" href="/press/assets/js/4.b1f0a97c.js"><link rel="prefetch" href="/press/assets/js/5.630ede77.js"><link rel="prefetch" href="/press/assets/js/6.86e35b58.js"><link rel="prefetch" href="/press/assets/js/7.20188333.js"><link rel="prefetch" href="/press/assets/js/9.61c878d5.js">
    <link rel="stylesheet" href="/press/assets/css/0.styles.c0993adc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/press/" class="home-link router-link-active"><!----> <span class="site-name">IM开发文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/press/dev/index.html" class="nav-link">开发</a></div><div class="nav-item"><a href="/press/deploy/index.html" class="nav-link">部署</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="注意事项" class="dropdown-title"><span class="title">注意事项</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/press/note/eventBus.html" class="nav-link">eventBus</a></li><li class="dropdown-item"><!----> <a href="/press/note/store.html" class="nav-link">store</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/press/dev/index.html" class="nav-link">开发</a></div><div class="nav-item"><a href="/press/deploy/index.html" class="nav-link">部署</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="注意事项" class="dropdown-title"><span class="title">注意事项</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/press/note/eventBus.html" class="nav-link">eventBus</a></li><li class="dropdown-item"><!----> <a href="/press/note/store.html" class="nav-link">store</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/press/dev/" class="sidebar-link">介绍</a></li><li><a href="/press/dev/env.html" class="sidebar-link">环境搭建</a></li><li><a href="/press/dev/base.html" class="active sidebar-link">基础配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/press/dev/base.html#router" class="sidebar-link">router</a></li><li class="sidebar-sub-header"><a href="/press/dev/base.html#store" class="sidebar-link">store</a></li><li class="sidebar-sub-header"><a href="/press/dev/base.html#axios" class="sidebar-link">axios</a></li><li class="sidebar-sub-header"><a href="/press/dev/base.html#eventbus" class="sidebar-link">eventBus</a></li><li class="sidebar-sub-header"><a href="/press/dev/base.html#mock" class="sidebar-link">mock</a></li><li class="sidebar-sub-header"><a href="/press/dev/base.html#其它配置" class="sidebar-link">其它配置</a></li></ul></li><li><a href="/press/dev/utils.html" class="sidebar-link">工具方法</a></li><li><a href="/press/dev/sdk.html" class="sidebar-link">sdk使用</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="router"><a href="#router" class="header-anchor">#</a> router</h2> <ul><li>脚手架自带</li></ul> <p>在示例项目中, 我们使用 <a href="https://router.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer">Vue-router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 进行路由管理.</p> <p>路由功能可以开箱即用, 不再过多赘述, 参考文档即可</p> <h2 id="store"><a href="#store" class="header-anchor">#</a> store</h2> <ul><li>脚手架自带</li></ul> <p>在示例项目中, 我们使用 <a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer">Vuex<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 进行状态管理.</p> <p>虽然脚手架帮我们配置好一个简单的实例, 但由于使用了ts, 因此还需要添加一些类型描述. 参考这里的提交 <a href="https://github.com/kscript/im-example/commit/cca4c5c20e3a0852cca77f0360d751c70a21b91f" target="_blank" rel="noopener noreferrer">cca4c5c<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <ul><li>需要自己配置</li></ul> <p>在示例项目中, 我们使用 <a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener noreferrer">axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 处理数据请求.</p> <p>安装 axios</p> <div class="language-cmd extra-class"><pre class="language-text"><code>:: qs模块用于对要传的参数进行处理, 推荐使用, 但非必要
npm i -D axios qs
</code></pre></div><p>配置 axios, 参考这里的提交 <a href="https://github.com/kscript/im-example/commit/271252f0fa96a4ca26b122cb7b1cdb03ee15d0fb" target="_blank" rel="noopener noreferrer">271252f<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="custom-block tip"><p class="custom-block-title">axios使用说明</p> <p>axios 一般会结合 store 来使用, 只有<strong>当用户的某种行为, 触发了 store 的 action, 需要后端数据支持时</strong>, 我们才会去请求数据, 因此<strong>不需要给外部留下明显的调用方式</strong>.</p></div> <h2 id="eventbus"><a href="#eventbus" class="header-anchor">#</a> eventBus</h2> <ul><li>需要自己配置</li></ul> <p>eventBus 实际上是一个单独的 vue 实例, 在示例项目中, 充当一个全局的 EventEmitter.<br>
eventBus 的基本配置, 参考这里的提交 <a href="https://github.com/kscript/im-example/commit/8d3eb8ac55b5af92b22c914199d3d580422857c2" target="_blank" rel="noopener noreferrer">8d3eb8a<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> , 后面还有对 eventBus 进行更详细一些的划分, 见 <a href="https://github.com/kscript/im-example/commit/f8234661ee81b1f34b04d81ecaf3a5d19b9d9a90" target="_blank" rel="noopener noreferrer">f823466<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
由于示例项目基本上是围绕 <strong>用户 ↔ SDK</strong> 的交互, 因此整体思想是: 逻辑层事件驱动(用户事件,sdk事件) + UI层数据驱动, 而我们的<strong>核心代码, 大部分会在 eventBus 上</strong>.</p> <h2 id="mock"><a href="#mock" class="header-anchor">#</a> mock</h2> <h2 id="其它配置"><a href="#其它配置" class="header-anchor">#</a> 其它配置</h2> <ul><li>需要自己配置</li></ul> <table><thead><tr><th></th></tr></thead> <tbody><tr><td>配置文件</td></tr> <tr><td>工具方法</td></tr> <tr><td>类型描述</td></tr></tbody></table> <p>查看提交 <a href="https://github.com/kscript/im-example/commit/9ac35b7092870ddd2357e3db7945a13a9e5d8d9d" target="_blank" rel="noopener noreferrer">9ac35b7<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/press/dev/env.html" class="prev">环境搭建</a></span> <span class="next"><a href="/press/dev/utils.html">工具方法</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/press/assets/js/app.9d39bb6e.js" defer></script><script src="/press/assets/js/2.a59aa3f2.js" defer></script><script src="/press/assets/js/8.59e41fce.js" defer></script>
  </body>
</html>
